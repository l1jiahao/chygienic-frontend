{"remainingRequest":"/home/nogra/WebstormProjects/chygienic-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nogra/WebstormProjects/chygienic-frontend/src/views/list/table/Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nogra/WebstormProjects/chygienic-frontend/src/views/list/table/Edit.vue","mtime":1639697479618},{"path":"/home/nogra/WebstormProjects/chygienic-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1639555563345},{"path":"/home/nogra/WebstormProjects/chygienic-frontend/node_modules/babel-loader/lib/index.js","mtime":1639555563394},{"path":"/home/nogra/WebstormProjects/chygienic-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1639555563345},{"path":"/home/nogra/WebstormProjects/chygienic-frontend/node_modules/vue-loader/lib/index.js","mtime":1639555573442}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwppbXBvcnQgcGljayBmcm9tICdsb2Rhc2gucGljaycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGFibGVFZGl0JywKICBwcm9wczogewogICAgcmVjb3JkOiB7CiAgICAgIHR5cGU6IFtPYmplY3QsIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhYmVsQ29sOiB7CiAgICAgICAgeHM6IHsgc3BhbjogMjQgfSwKICAgICAgICBzbTogeyBzcGFuOiA1IH0KICAgICAgfSwKICAgICAgd3JhcHBlckNvbDogewogICAgICAgIHhzOiB7IHNwYW46IDI0IH0sCiAgICAgICAgc206IHsgc3BhbjogMTIgfQogICAgICB9LAogICAgICBidXR0b25Db2w6IHsKICAgICAgICB3cmFwcGVyQ29sOiB7CiAgICAgICAgICB4czogeyBzcGFuOiAyNCB9LAogICAgICAgICAgc206IHsgc3BhbjogMTIsIG9mZnNldDogNSB9CiAgICAgICAgfQogICAgICB9LAogICAgICBmb3JtOiB0aGlzLiRmb3JtLmNyZWF0ZUZvcm0odGhpcyksCiAgICAgIGlkOiAwCiAgICB9CiAgfSwKICAvLyBiZWZvcmVDcmVhdGUgKCkgewogIC8vICAgdGhpcy5mb3JtID0gdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpCiAgLy8gfSwKICBtb3VudGVkICgpIHsKICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgdGhpcy5sb2FkRWRpdEluZm8odGhpcy5yZWNvcmQpCiAgICB9KQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlR29CYWNrICgpIHsKICAgICAgdGhpcy4kZW1pdCgnb25Hb0JhY2snKQogICAgfSwKICAgIGhhbmRsZVN1Ym1pdCAoKSB7CiAgICAgIGNvbnN0IHsgZm9ybTogeyB2YWxpZGF0ZUZpZWxkcyB9IH0gPSB0aGlzCiAgICAgIHZhbGlkYXRlRmllbGRzKChlcnIsIHZhbHVlcykgPT4gewogICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIHZhbHVlcyBvZiBmb3JtOiAnLCB2YWx1ZXMpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZUdldEluZm8gKCkgewoKICAgIH0sCiAgICBsb2FkRWRpdEluZm8gKGRhdGEpIHsKICAgICAgY29uc3QgeyBmb3JtIH0gPSB0aGlzCiAgICAgIC8vIGFqYXgKICAgICAgY29uc29sZS5sb2coYOWwhuWKoOi9vSAke3RoaXMuaWR9IOS/oeaBr+WIsOihqOWNlWApCiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCAxNTAwKQogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHBpY2soZGF0YSwgWydubycsICdjYWxsTm8nLCAnc3RhdHVzJywgJ2Rlc2NyaXB0aW9uJywgJ3VwZGF0ZWRBdCddKQogICAgICAgIGZvcm1EYXRhLnVwZGF0ZWRBdCA9IG1vbWVudChkYXRhLnVwZGF0ZWRBdCkKICAgICAgICBjb25zb2xlLmxvZygnZm9ybURhdGEnLCBmb3JtRGF0YSkKICAgICAgICBmb3JtLnNldEZpZWxkc1ZhbHVlKGZvcm1EYXRhKQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Edit.vue","sourceRoot":"src/views/list/table","sourcesContent":["<template>\n  <div>\n    <a-form :form=\"form\" @submit=\"handleSubmit\">\n\n      <a-form-item\n        :labelCol=\"labelCol\"\n        :wrapperCol=\"wrapperCol\"\n        label=\"规则编号\"\n        hasFeedback\n        validateStatus=\"success\"\n      >\n        <a-input\n          placeholder=\"规则编号\"\n          v-decorator=\"[\n            'no',\n            {rules: [{ required: true, message: '请输入规则编号' }]}\n          ]\"\n          :disabled=\"true\"\n        ></a-input>\n      </a-form-item>\n\n      <a-form-item\n        :labelCol=\"labelCol\"\n        :wrapperCol=\"wrapperCol\"\n        label=\"服务调用次数\"\n        hasFeedback\n        validateStatus=\"success\"\n      >\n        <a-input-number :min=\"1\" style=\"width: 100%\" v-decorator=\"['callNo', {rules: [{ required: true }]}]\" />\n      </a-form-item>\n\n      <a-form-item\n        :labelCol=\"labelCol\"\n        :wrapperCol=\"wrapperCol\"\n        label=\"状态\"\n        hasFeedback\n        validateStatus=\"warning\"\n      >\n        <a-select v-decorator=\"['status', {rules: [{ required: true, message: '请选择状态' }], initialValue: '1'}]\">\n          <a-select-option :value=\"1\">Option 1</a-select-option>\n          <a-select-option :value=\"2\">Option 2</a-select-option>\n          <a-select-option :value=\"3\">Option 3</a-select-option>\n        </a-select>\n      </a-form-item>\n\n      <a-form-item\n        :labelCol=\"labelCol\"\n        :wrapperCol=\"wrapperCol\"\n        label=\"描述\"\n        hasFeedback\n        help=\"请填写一段描述\"\n      >\n        <a-textarea :rows=\"5\" placeholder=\"...\" v-decorator=\"['description', {rules: [{ required: true }]}]\" />\n      </a-form-item>\n\n      <a-form-item\n        :labelCol=\"labelCol\"\n        :wrapperCol=\"wrapperCol\"\n        label=\"更新时间\"\n        hasFeedback\n        validateStatus=\"error\"\n      >\n        <a-date-picker\n          style=\"width: 100%\"\n          showTime\n          format=\"YYYY-MM-DD HH:mm:ss\"\n          placeholder=\"Select Time\"\n          v-decorator=\"['updatedAt']\"\n        />\n      </a-form-item>\n\n      <a-form-item\n        v-bind=\"buttonCol\"\n      >\n        <a-row>\n          <a-col span=\"6\">\n            <a-button type=\"primary\" html-type=\"submit\">提交</a-button>\n          </a-col>\n          <a-col span=\"10\">\n            <a-button @click=\"handleGoBack\">返回</a-button>\n          </a-col>\n          <a-col span=\"8\"></a-col>\n        </a-row>\n      </a-form-item>\n    </a-form>\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport pick from 'lodash.pick'\n\nexport default {\n  name: 'TableEdit',\n  props: {\n    record: {\n      type: [Object, String],\n      default: ''\n    }\n  },\n  data () {\n    return {\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 5 }\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 12 }\n      },\n      buttonCol: {\n        wrapperCol: {\n          xs: { span: 24 },\n          sm: { span: 12, offset: 5 }\n        }\n      },\n      form: this.$form.createForm(this),\n      id: 0\n    }\n  },\n  // beforeCreate () {\n  //   this.form = this.$form.createForm(this)\n  // },\n  mounted () {\n    this.$nextTick(() => {\n      this.loadEditInfo(this.record)\n    })\n  },\n  methods: {\n    handleGoBack () {\n      this.$emit('onGoBack')\n    },\n    handleSubmit () {\n      const { form: { validateFields } } = this\n      validateFields((err, values) => {\n        if (!err) {\n          // eslint-disable-next-line no-console\n          console.log('Received values of form: ', values)\n        }\n      })\n    },\n    handleGetInfo () {\n\n    },\n    loadEditInfo (data) {\n      const { form } = this\n      // ajax\n      console.log(`将加载 ${this.id} 信息到表单`)\n      new Promise((resolve) => {\n        setTimeout(resolve, 1500)\n      }).then(() => {\n        const formData = pick(data, ['no', 'callNo', 'status', 'description', 'updatedAt'])\n        formData.updatedAt = moment(data.updatedAt)\n        console.log('formData', formData)\n        form.setFieldsValue(formData)\n      })\n    }\n  }\n}\n</script>\n"]}]}